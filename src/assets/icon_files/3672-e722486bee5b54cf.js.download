"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3672],{50440:function(e,t,r){r.d(t,{Bv:function(){return d},Ey:function(){return y},LT:function(){return i},M3:function(){return s},S7:function(){return g},Td:function(){return f},Z8:function(){return m},hH:function(){return l},nr:function(){return p},ob:function(){return c},uP:function(){return v}});var n=r(332),a=r(8719);r(20494);var o=r(69454);let c=(e,t)=>{(0,a.L9)({event:a.ju.Click,action:e,category:a.WD.SearchBar,label:e===a.aU.ReverseImageIconClick?"":t})},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/-/g," ")},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(e).toLowerCase()},i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().replace(/[\s_]+/g,"-")},u=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(null==t?void 0:null===(e=t.charAt(0))||void 0===e?void 0:e.toUpperCase())+(null==t?void 0:t.slice(1))},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return u(s(e))},h=e=>e?"".concat(encodeURIComponent(i(e)),".html"):"",m=e=>encodeURIComponent(i(e)),f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return"".concat((0,n.q)(n.A.KeywordVideoSearch,t)).concat(h(e))},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return"".concat((0,n.q)(n.A.KeywordSearch,t)).concat(h(e))},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e&&e.includes(t)?e.replace("".concat(t," "),"".concat(t,"+")):e},p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?"".concat(e).concat(encodeURIComponent((0,o.tF)(t)),".html"):e},v=(e,t,r,a,o)=>{let c=r?encodeURIComponent(i(r)):"",l=r?"".concat(c,".html"):"";if(e===n.A.SearchNews)return"".concat(t,"?qt=").concat(r);let s=0===o?"?qt=".concat(c):"?imgt=".concat(o,"&qt=").concat(c);return["noveluse","bespoke","editorial"].some(e=>t.includes(e))?"".concat(t).concat(l).concat(s):"".concat(t).concat(l).concat(a?"?".concat(a):"")}},69454:function(e,t,r){r.d(t,{Uz:function(){return E},Vp:function(){return w},q3:function(){return b},tF:function(){return v},x6:function(){return x}});var n=r(37340),a=r(85893),o=r(99381),c=r(67814),l=r(26793),s=r(332),i=r(22926),u=r(29479),d=r(8719),h=r(44362),m=r(81198);function f(){let e=(0,n._)(["search-tags.search-video-by-tags"]);return f=function(){return e},e}function g(){let e=(0,n._)(["search-tags.search-by-tags"]);return g=function(){return e},e}function y(){let e=(0,n._)(["search-tags.show-fewer"]);return y=function(){return e},e}function p(){let e=(0,n._)(["search-tags.show-all"]);return p=function(){return e},e}let v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/[ ./\\]+/g,"-").replace(/^-|-$/,"")},w=e=>{let{keyword:t,searchUrl:r,onClick:n,noFollow:l}=e;return(0,a.jsxs)("a",{className:"flex items-center max-w-full px-4 py-2 mb-3 mr-3 text-sm border rounded border-grey-border bg-grey-light hover:border-black min-h-10",href:r,onClick:n,rel:l?"nofollow":void 0,children:[(0,a.jsx)(c.G,{className:"mr-2 text-xs",icon:o.wn}),(0,a.jsx)("span",{className:"max-w-xs overflow-hidden text-ellipsis",children:String(t)})]})},x=e=>{let{keyword:t,searchUrl:r,showLink:n}=e;return n?(0,a.jsxs)("a",{className:"flex items-center max-w-full px-4 py-2 mb-3 mr-3 text-sm border rounded border-grey-border focus:bg-grey-light hover:bg-grey-light",href:r,children:[(0,a.jsx)(c.G,{className:"mr-2 text-xs",icon:o.wn}),(0,a.jsx)("span",{className:"max-w-xs overflow-hidden text-ellipsis",children:String(t)})]}):(0,a.jsxs)("div",{className:"flex items-center max-w-full px-4 py-2 mb-3 mr-3 text-sm border rounded border-grey-border focus:bg-grey-light hover:bg-grey-light",children:[(0,a.jsx)(c.G,{className:"mr-2 text-xs",icon:o.wn}),(0,a.jsx)("span",{className:"max-w-xs overflow-hidden text-ellipsis",children:String(t)})]})},b=e=>{let{keywords:t,disableLinkForBot:r=!1,video:n=!1}=e,{t:o}=(0,l.$)(),{containerRef:c,hasOverflow:b,isExpanded:E,toggleExpanded:j}=(0,i.E)(),S=(0,u.b)(),N=(0,s.q)(n?s.A.KeywordVideoSearch:s.A.KeywordSearch,S),k=n&&"de"===S;return t.length?(0,a.jsxs)("div",{className:"text-grey-black",children:[(0,a.jsx)(m.M,{text:o(n?f():g()),collapseRuler:!0,children:b&&(0,a.jsx)(m.A,{role:"button",onClick:j,children:o(E?y():p())})}),(0,a.jsx)("div",{className:E?void 0:"overflow-hidden max-h-24",ref:c,children:(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)("div",{className:"flex flex-wrap -mb-3",children:t.map(e=>{let t="string"==typeof e?e:e.key,o="string"==typeof e?e:e.label,c="string"==typeof e?"".concat(N).concat(v(e),".html"):e.href;return r?(0,a.jsx)(x,{keyword:o,showLink:"en"===S,searchUrl:c},t):(0,a.jsx)(w,{searchUrl:c,keyword:o,onClick:()=>(0,h.Gq)(d.aU.KeywordClick,t,n),noFollow:k},t)})})})})]}):null},E=e=>(0,a.jsx)(b,{video:!0,...e})},81198:function(e,t,r){r.d(t,{A:function(){return l},M:function(){return c}});var n=r(85893),a=r(93967),o=r.n(a);let c=e=>{let{text:t,children:r,collapseRuler:a=!1,hideLine:c=!1,useCustomHeading:l=!1}=e;return(0,n.jsxs)("div",{className:o()("flex justify-start mb-4 text-black md:flex-row md:items-center",r?"flex-wrap items-center":"items-center"),children:[l?(0,n.jsx)("div",{className:"mr-5 text-lg",children:t}):(0,n.jsx)("h2",{className:"mr-5 text-lg",children:t}),r,!c&&(0,n.jsx)("hr",{className:o()("flex grow border-t border-grey-border",a?"hidden md:block":"")})]})},l=e=>{let{className:t,...r}=e;return(0,n.jsx)("a",{"data-testid":"search-header-link",className:o()("mr-5 text-sm border-0 md:inline-block text-blue hover:underline font-noto",t),...r})}},22926:function(e,t,r){r.d(t,{E:function(){return c}});var n=r(67294),a=r(66791);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,[t,r]=(0,n.useState)(null),o=(0,n.useRef)(null),c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o.current&&r(e?o.current.scrollHeight>e:o.current.scrollHeight>o.current.offsetHeight)};return(0,n.useEffect)(()=>c(e),[]),(0,a.Z)("resize",()=>c(e)),{containerRef:o,hasOverflow:t,update:c}},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=o(e),{hasOverflow:r}=t,[a,c]=(0,n.useState)(null);return(0,n.useEffect)(()=>{"boolean"==typeof r&&c(!r)},[r]),{...t,isExpanded:a,toggleExpanded:e=>{e.preventDefault(),c(!a)},setIsExpanded:c}}},43672:function(e,t,r){r.d(t,{GN:function(){return O},Lm:function(){return q},SE:function(){return w},SF:function(){return x},Tm:function(){return j},V7:function(){return U},ZY:function(){return I},bE:function(){return R},dy:function(){return T},ew:function(){return b},fR:function(){return v},n6:function(){return P},pc:function(){return k},s3:function(){return S},tN:function(){return M},uM:function(){return A},uT:function(){return C},uX:function(){return N},wv:function(){return p}});var n=r(83109),a=r(56647),o=r(4893),c=r(17537),l=r(33190),s=r(50440),i=r(31542),u=r(86420),d=r(56437),h=r(20494),m=r(25283),f=r(76540);let g=(e,t)=>{let{locale:r,isBot:n,type:a,geo:c,page:u,pn:d,ps:m,nasty:g,editorial:y,lightbox:p,rmuid:v,translate:w,sessionid:x,offset:b,hidecontributor:E}=t,j=o.Yz.reduce((t,r)=>{let n=e[r],a=r===h.A6&&Array.isArray(n)&&n.map(e=>"USA"===e?"us":e.toLowerCase()).join(","),o="ethnicity"===r&&Array.isArray(n)&&n.join(",");return Array.isArray(n)?{...t,[r]:a||o||n.join(",")}:t},e),S=Number(null==j?void 0:j.imgt)===i.lJ.Social,N=Number(null==j?void 0:j.imgt)===i.lJ.AllImages;return{...j,[h.D2]:p?void 0:j[h.D2],qt:(0,f.ZG)(j.qt),hc:(0,s.Ey)(j.hc,"5"),frrate:(0,s.Ey)(j.frrate,"50"),res:(0,s.Ey)(j.res,"4k"),durend:(null==j?void 0:j.durend)>=l.AW?l.t:null==j?void 0:j.durend,imgt:S||N?void 0:j.imgt,langcode:r,isbot:n,type:a,geo:c,pn:d||u,ps:m,page:void 0,nasty:g,editorial:y,lightbox:p,rmuid:v,translate:w,sessionid:x,offset:b,ispartial:!0,hidecontributor:(null==E?void 0:E.join(","))||void 0,...S?{social:!0}:{}}},y=e=>{let{locale:t,isBot:r,ps:n,pn:a,productType:o,isProductUI:c}=e;return{lan:t,bot:r,ps:n,pn:a,type:o,isProductUI:c}},p=e=>function(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.get("products/".concat(t.seqOrRef),{params:y({...t,isProductUI:!0}),...r?{}:{validateStatus:null}})},v=e=>async t=>{try{return(await e.post("products/aggregate",t)).data}catch(e){throw Error(e.message)}},w=e=>function(t){let r=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return e.get("products/".concat(t.seqOrRef),{params:y({...t,productType:n.ProductType.Video,isProductUI:!0}),...r?{}:{validateStatus:null}})},x=e=>async function(t,r){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=y({...t,ps:(null==t?void 0:t.ps)||13,pn:(null==t?void 0:t.pn)||1}),l=c.type||n.ProductType.Picture,s=l===n.ProductType.Picture&&(null==r?void 0:r.imgt)?{imgt:null==r?void 0:r.imgt}:{},{geo:i,headline:h,user:f,isSSR:g}=r||{};try{let a=(await e.get("search/".concat(t.seqOrRef,"/similar/"),{timeout:o?100:0,params:{...c,geo:i||"GB",headline:h||"",type:l,langcode:c.lan,audienceType:null==f?void 0:f.audienceType,silo:null==f?void 0:f.silo,hidePA:null==f?void 0:f.hidePA,hideDataco:null==f?void 0:f.hideDataco,customScheme:null==f?void 0:f.customScheme,...s,isSSR:!!g,isbot:c.bot,isUserLoggedOut:null==r?void 0:r.isUserLoggedOut}})).data;return{similarProducts:l===n.ProductType.Picture?(0,m.px)(null==a?void 0:a.items,c.lan,!0):(0,m.Bh)(null==a?void 0:a.items),totalMatches:(null==a?void 0:a.totalMatches)||0}}catch(r){let e=r.response;return o&&r.code===d.SM.RequestTimeout?(0,u.S3)(new d.bW(t.seqOrRef),!1):e&&e.status===a.W.TOO_MANY_REQUESTS?(0,u.S3)(new d.uu(t.seqOrRef),!1):(0,u.S3)(r),null}},b=e=>async(t,r)=>{try{return(await e.get("products/".concat(t.seqOrRef,"/same-contributor/"),{params:{...y(t),qt:r}})).data}catch(e){throw Error(e.message)}},E=e=>async(t,r)=>{try{return(await e.get("lightboxes/".concat(t),{params:r})).data}catch(e){throw Error(e.message)}},j=e=>async(t,r)=>{try{let n=(await Promise.allSettled(t.map(t=>E(e)("".concat(t.lightboxId),{...r,ps:t.numberOfImages})))).map(e=>"rejected"===e.status?null:e.value).filter(e=>null!==e);if(!n.length)throw Error("No lightboxes were found");return n}catch(e){throw Error(e.message)}},S=e=>async(t,r)=>{let{locale:n,isBot:a,type:o}=r;try{return(await e.get("products",{params:{...t,lan:n,bot:a,type:o}})).data.items}catch(e){throw Error(e.message)}},N=e=>async(t,r)=>{try{return(await e.get("search",{params:g(t,r)})).data}catch(e){throw Error(e.message)}},k=e=>async t=>{try{return(await Promise.all(t.map(t=>e.get("search",{params:g(t.queryParams,t.searchParams)})))).map((e,r)=>({searchQuery:t[r].searchQuery,response:e.data}))}catch(e){throw Error(e.message)}},P=e=>async(t,r)=>{try{return(await e.get("search/images-library-count",{params:g(t,r)})).data}catch(e){throw Error(e.message)}},A=e=>async function(t,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{return(await e.get("search/suggest",{params:{qt:t,lan:r,related:n}})).data}catch(e){throw Error(e.message)}},U=e=>async(t,r)=>{let n={imageId:t.imageid||"",altRef:r,pageNumber:Number(t.pn),pseudonymId:t.p||"",searchQuery:t.srch,searchId:t.searchId};try{await e.post("rankmeasures",{...n})}catch(e){(0,u.S3)(e)}},M=e=>async(t,r,n)=>{try{let a=await Promise.resolve(N(e)({...r,[h.D2]:t},n));return{collectionType:t,items:(0,m.px)(a.items,n.locale),totalMatches:a.totalMatches}}catch(e){throw Error(e.message)}},T=e=>async(t,r,n)=>{try{let a=await Promise.resolve(N(e)({...r,[h.D2]:t},n));return{collectionType:t,item:(0,m.px)(a.items,n.locale)[0],totalMatches:a.totalMatches}}catch(e){throw Error(e.message)}},q=e=>async(t,r)=>{try{let[n,a,o,l]=await Promise.all([c.yl.Ultimate,c.yl.Vital,c.yl.Uncut,c.yl.Foundation].map(n=>N(e)({...t,[h.D2]:n},r)));return[{collectionType:c.yl.Ultimate,items:(0,m.px)(n.items,r.locale),totalMatches:n.totalMatches},{collectionType:c.yl.Vital,items:(0,m.px)(a.items,r.locale),totalMatches:a.totalMatches},{collectionType:c.yl.Uncut,items:(0,m.px)(o.items,r.locale),totalMatches:o.totalMatches},{collectionType:c.yl.Foundation,items:(0,m.px)(l.items,r.locale),totalMatches:l.totalMatches}]}catch(e){throw Error(e.message)}},R=e=>async(t,r)=>(await e.get("search/agencies",{params:g(t,r)})).data,C=e=>async t=>{try{return(await e.post("showPrompt",t)).data}catch(e){throw Error(e.message)}},I=e=>async t=>{try{return(await e.post("verifyUserPassword",t)).data}catch(e){throw Error(e.message)}},O=e=>async t=>{try{return(await e.post("downloadProcessing",t)).data}catch(e){throw Error(e.message)}}}}]);